<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Fishbone Analysis Tool</title>

  <!-- THEME MUST LOAD FIRST -->
  <link rel="stylesheet" href="css/theme.css">
  <link rel="stylesheet" href="css/style.css">

  <!-- Icons (optional, safe) -->
  <link rel="stylesheet"
        href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
</head>

<body>

<!-- HEADER -->
<header>
  <h1>Fishbone Analysis</h1>
  <span id="problemId">No problem selected</span>
</header>

<!-- START MODE -->
<section class="card">
  <h3>Start Analysis</h3>

  <label>
    <input type="radio" name="mode" value="new" checked onchange="toggleMode()">
    New Analysis
  </label>

  <label>
    <input type="radio" name="mode" value="existing" onchange="toggleMode()">
    Existing Analysis
  </label>

  <div id="existingSelector" style="display:none;">
    <label>Select Existing Problem</label>
    <select id="existingDropdown" onchange="loadSelectedProblem()"></select>
  </div>
</section>

<!-- EXISTING PROBLEMS LIST -->
<section class="card">
  <h3>Existing Problems</h3>
  <div id="problemList">
    <p class="muted">No existing problems</p>
  </div>
</section>

<!-- PROBLEM METADATA -->
<section class="card">
  <label>Account</label>
  <input id="account" placeholder="Eg: PEPSI">

  <label>Month-Year</label>
  <input id="month" placeholder="MM-YY (Eg: 01-26)">

  <label>Done By</label>
  <input id="doneBy">

  <label>Account Manager</label>
  <input id="accountManager">
</section>

<!-- PROBLEM DETAILS -->
<section class="card">
  <label>Problem Statement</label>
  <textarea id="problemStatement"></textarea>

  <label>Why this analysis is required</label>
  <textarea id="problemJustification"></textarea>

  <button onclick="saveProblem()">Save Problem</button>
</section>

<!-- 6M GRID -->
<section class="m-grid">
  <button onclick="openM('Man')">Man</button>
  <button onclick="openM('Machine')">Machine</button>
  <button onclick="openM('Method')">Method</button>
  <button onclick="openM('Material')">Material</button>
  <button onclick="openM('Measurement')">Measurement</button>
  <button onclick="openM('Environment')">Environment</button>
</section>

<!-- NAVIGATION -->
<nav class="tabs">
  <button onclick="openConsolidated()">Consolidated Action Plan</button>
  <button onclick="openFishbone()">Fishbone Diagram</button>
</nav>

<!-- SCRIPTS (ORDER IS CRITICAL) -->
<script src="js/storage.js"></script>
<script src="js/app.js"></script>

</body>
</html>
